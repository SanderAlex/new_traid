var CodeMirror=function(){function e(s,f){function g(e){return e>=0&&e<Zn.size}function w(e){return h(Zn,e)}function k(e,t){mr=!0;var n=t-e.height;for(var r=e;r;r=r.parent)r.height+=n}function L(e){var t={line:0,ch:0};ft(t,{line:Zn.size-1,ch:w(Zn.size-1).text.length},Z(e),t,t),lr=!0}function R(e){var t=[];return Zn.iter(0,Zn.size,function(e){t.push(e.text)}),t.join("\n")}function U(e){function t(e){var n=bn(e,!0);if(n&&!_(n,s)){tr||ut(),s=n,Pt(r,n),lr=!1;var i=kt();if(n.line>=i.to||n.line<i.from)o=setTimeout(On(function(){t(e)}),150)}}Dt(T(e,"shiftKey"));for(var n=S(e);n!=Hn;n=n.parentNode)if(n.parentNode==In&&n!=qn)return;for(var n=S(e);n!=Hn;n=n.parentNode)if(n.parentNode==Un)return Mn.onGutterClick&&Mn.onGutterClick(kr,j(Un.childNodes,n)+br,e),b(e);var r=bn(e);switch(x(e)){case 3:J&&!q&&wn(e);return;case 2:r&&jt(r.line,r.ch,!0);return}if(!r){S(e)==Fn&&b(e);return}tr||ut();var i=+(new Date);if(sr&&sr.time>i-400&&_(sr.pos,r))return b(e),setTimeout(xt,20),Xt(r.line);if(ir&&ir.time>i-400&&_(ir.pos,r))return sr={time:i,pos:r},b(e),Wt(r);ir={time:i,pos:r};var s=r,o;if($&&!Mn.readOnly&&!_(nr.from,nr.to)&&!D(r,nr.from)&&!D(nr.to,r)){Q&&(zn.draggable=!0);var u=N(Pn,"mouseup",On(function(t){Q&&(zn.draggable=!1),ur=!1,u(),Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)<10&&(b(t),jt(r.line,r.ch,!0),xt())}),!0);ur=!0;return}b(e),jt(r.line,r.ch,!0);var a=N(Pn,"mousemove",On(function(e){clearTimeout(o),b(e),t(e)}),!0),u=N(Pn,"mouseup",On(function(e){clearTimeout(o);var t=bn(e);t&&Pt(r,t),b(e),xt(),lr=!0,a(),u()}),!0)}function z(e){for(var t=S(e);t!=Hn;t=t.parentNode)if(t.parentNode==Un)return b(e);var n=bn(e);if(!n)return;sr={time:+(new Date),pos:n},b(e),Wt(n)}function G(e){e.preventDefault();var t=bn(e,!0),n=e.dataTransfer.files;if(!t||Mn.readOnly)return;if(n&&n.length&&window.FileReader&&window.File){function r(e,n){var r=new FileReader;r.onload=function(){s[n]=r.result,++o==i&&(t=It(t),On(function(){var e=dt(s.join(""),t,t);Pt(t,e)})())},r.readAsText(e)}var i=n.length,s=Array(i),o=0;for(var u=0;u<i;++u)r(n[u],u)}else try{var s=e.dataTransfer.getData("Text");if(s){var a=nr.from,f=nr.to;Pt(t,t),ur&&dt("",a,f),vt(s),xt()}}catch(e){}}function nt(e){var t=yt();H(t),e.dataTransfer.setDragImage(Y,0,0),e.dataTransfer.setData("Text",t)}function rt(e){function r(){return s.call?s.call(null,kr):s}var i=tt[T(e,"keyCode")],s=V[Mn.keyMap].auto,o,u;if(i==null||e.altGraphKey)return s&&(Mn.keyMap=r()),null;T(e,"altKey")&&(i="Alt-"+i),T(e,"ctrlKey")&&(i="Ctrl-"+i),T(e,"metaKey")&&(i="Cmd-"+i),T(e,"shiftKey")&&(o=t("Shift-"+i,Mn.extraKeys,Mn.keyMap))?u=!0:o=t(i,Mn.extraKeys,Mn.keyMap),typeof o=="string"&&(X.propertyIsEnumerable(o)?o=X[o]:o=null),s&&(o||!n(e))&&(Mn.keyMap=r());if(!o)return!1;var a=rr;try{Mn.readOnly&&(fr=!0),u&&(rr=null),o(kr)}finally{rr=a,fr=!1}return b(e),!0}function it(e){tr||ut(),K&&e.keyCode==27&&(e.returnValue=!1);if(Mn.onKeyEvent&&Mn.onKeyEvent(kr,y(e)))return;var t=T(e,"keyCode");Dt(t==16||T(e,"shiftKey"));var n=rt(e);window.opera&&(Lr=n?t:null,!n&&t==88&&T(e,q?"metaKey":"ctrlKey")&&vt(""))}function st(e){if(Mn.onKeyEvent&&Mn.onKeyEvent(kr,y(e)))return;var t=T(e,"keyCode"),n=T(e,"charCode");if(window.opera&&t==Lr){Lr=null,b(e);return}if(window.opera&&!e.which&&rt(e))return;if(Mn.electricChars&&Yn.electricChars&&Mn.smartIndent&&!Mn.readOnly){var r=String.fromCharCode(n==null?t:n);Yn.electricChars.indexOf(r)>-1&&setTimeout(On(function(){$t(nr.to.line,"smart")}),75)}wt()}function ot(e){if(Mn.onKeyEvent&&Mn.onKeyEvent(kr,y(e)))return;T(e,"keyCode")==16&&(rr=null)}function ut(){if(Mn.readOnly=="nocursor")return;tr||(Mn.onFocus&&Mn.onFocus(kr),tr=!0,Hn.className.search(/\bCodeMirror-focused\b/)==-1&&(Hn.className+=" CodeMirror-focused"),vr||St(!0)),bt(),En()}function at(){tr&&(Mn.onBlur&&Mn.onBlur(kr),tr=!1,Sr&&On(function(){Sr&&(Sr(),Sr=null)})(),Hn.className=Hn.className.replace(" CodeMirror-focused","")),clearInterval(Gn),setTimeout(function(){tr||(rr=null)},150)}function ft(e,t,n,r,i){if(fr)return;if(Nr){var s=[];Zn.iter(e.line,t.line+1,function(e){s.push(e.text)}),Nr.addChange(e.line,n.length,s);while(Nr.done.length>Mn.undoDepth)Nr.done.shift()}pt(e,t,n,r,i)}function lt(e,t,n){var r=e.pop(),i=r?r.length:0,s=[];for(var o=n>0?0:i-1,u=n>0?i:-1;o!=u;o+=n){var a=r[o],f=[],l=a.start+a.added;Zn.iter(a.start,l,function(e){f.push(e.text)}),s.push({start:a.start,added:a.old.length,old:f});var c=It({line:a.start+a.old.length-1,ch:B(f[f.length-1],a.old[a.old.length-1])});pt({line:a.start,ch:0},{line:l-1,ch:w(l-1).text.length},a.old,c,c)}lr=!0,t.push(s)}function ct(){lt(Nr.done,Nr.undone,-1)}function ht(){lt(Nr.undone,Nr.done,1)}function pt(e,t,n,r,i){function s(e){return e<=Math.min(t.line,t.line+y)?e:e+y}if(fr)return;var o=!1,u=xr.length;Mn.lineWrapping||Zn.iter(e.line,t.line,function(e){if(e.text.length==u)return o=!0,!0});if(e.line!=t.line||n.length>1)mr=!0;var f=t.line-e.line,l=w(e.line),c=w(t.line);if(e.ch==0&&t.ch==0&&n[n.length-1]==""){var h=[],p=null;e.line?(p=w(e.line-1),p.fixMarkEnds(c)):c.fixMarkStarts();for(var d=0,v=n.length-1;d<v;++d)h.push(a.inheritMarks(n[d],p));f&&Zn.remove(e.line,f,gr),h.length&&Zn.insert(e.line,h)}else if(l==c)if(n.length==1)l.replace(e.ch,t.ch,n[0]);else{c=l.split(t.ch,n[n.length-1]),l.replace(e.ch,null,n[0]),l.fixMarkEnds(c);var h=[];for(var d=1,v=n.length-1;d<v;++d)h.push(a.inheritMarks(n[d],l));h.push(c),Zn.insert(e.line+1,h)}else if(n.length==1)l.replace(e.ch,null,n[0]),c.replace(null,t.ch,""),l.append(c),Zn.remove(e.line+1,f,gr);else{var h=[];l.replace(e.ch,null,n[0]),c.replace(null,t.ch,n[n.length-1]),l.fixMarkEnds(c);for(var d=1,v=n.length-1;d<v;++d)h.push(a.inheritMarks(n[d],l));f>1&&Zn.remove(e.line+1,f-1,gr),Zn.insert(e.line+1,h)}if(Mn.lineWrapping){var m=Fn.clientWidth/mn()-3;Zn.iter(e.line,e.line+n.length,function(e){if(e.hidden)return;var t=Math.ceil(e.text.length/m)||1;t!=e.height&&k(e,t)})}else Zn.iter(e.line,d+n.length,function(e){var t=e.text;t.length>u&&(xr=t,u=t.length,Tr=null,o=!1)}),o&&(u=0,xr="",Tr=null,Zn.iter(0,Zn.size,function(e){var t=e.text;t.length>u&&(u=t.length,xr=t)}));var g=[],y=n.length-f-1;for(var d=0,b=er.length;d<b;++d){var E=er[d];E<e.line?g.push(E):E>t.line&&g.push(E+y)}var S=e.line+Math.min(n.length,500);Nn(e.line,S),g.push(S),er=g,kn(100),hr.push({from:e.line,to:t.line+1,diff:y});var x={from:e,to:t,text:n};if(pr){for(var T=pr;T.next;T=T.next);T.next=x}else pr=x;Ht(r,i,s(nr.from.line),s(nr.to.line)),Fn.clientHeight&&(In.style.height=Zn.height*vn()+2*gn()+"px")}function dt(e,t,n){function r(r){if(D(r,t))return r;if(!D(n,r))return i;var s=r.line+e.length-(n.line-t.line)-1,o=r.ch;return r.line==n.line&&(o+=e[e.length-1].length-(n.ch-(n.line==t.line?t.ch:0))),{line:s,ch:o}}t=It(t),n?n=It(n):n=t,e=Z(e);var i;return mt(e,t,n,function(e){return i=e,{from:r(nr.from),to:r(nr.to)}}),i}function vt(e,t){mt(Z(e),nr.from,nr.to,function(e){return t=="end"?{from:e,to:e}:t=="start"?{from:nr.from,to:nr.from}:{from:nr.from,to:e}})}function mt(e,t,n,r){var i=e.length==1?e[0].length+t.ch:e[e.length-1].length,s=r({line:t.line+e.length-1,ch:i});ft(t,n,e,s.from,s.to)}function gt(e,t){var n=e.line,r=t.line;if(n==r)return w(n).text.slice(e.ch,t.ch);var i=[w(n).text.slice(e.ch)];return Zn.iter(n+1,r,function(e){i.push(e.text)}),i.push(w(r).text.slice(0,t.ch)),i.join("\n")}function yt(){return gt(nr.from,nr.to)}function bt(){if(Ar)return;Kn.set(Mn.pollInterval,function(){Ln(),Et(),tr&&bt(),An()})}function wt(){function e(){Ln();var n=Et();!n&&!t?(t=!0,Kn.set(60,e)):(Ar=!1,bt()),An()}var t=!1;Ar=!0,Kn.set(20,e)}function Et(){if(vr||!tr||et(jn)||Mn.readOnly)return!1;var e=jn.value;if(e==Or)return!1;rr=null;var t=0,n=Math.min(Or.length,e.length);while(t<n&&Or[t]==e[t])++t;return t<Or.length?nr.from={line:nr.from.line,ch:nr.from.ch-(Or.length-t)}:ar&&_(nr.from,nr.to)&&(nr.to={line:nr.to.line,ch:Math.min(w(nr.to.line).text.length,nr.to.ch+(e.length-t))}),vt(e.slice(t),"end"),Or=e,!0}function St(e){_(nr.from,nr.to)?e&&(Or=jn.value=""):(Or="",jn.value=yt(),M(jn))}function xt(){Mn.readOnly!="nocursor"&&jn.focus()}function Tt(){if(!Xn.getBoundingClientRect)return;var e=Xn.getBoundingClientRect();if(K&&e.top==e.bottom)return;var t=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(e.top<0||e.bottom>t)&&Xn.scrollIntoView()}function Nt(){var e=hn(nr.inverted?nr.from:nr.to),t=Mn.lineWrapping?Math.min(e.x,zn.offsetWidth):e.x;return Ct(t,e.y,t,e.yBot)}function Ct(e,t,n,r){var i=yn(),s=gn(),o=vn();t+=s,r+=s,e+=i,n+=i;var u=Fn.clientHeight,a=Fn.scrollTop,f=!1,l=!0;t<a?(Fn.scrollTop=Math.max(0,t-2*o),f=!0):r>a+u&&(Fn.scrollTop=r+o-u,f=!0);var c=Fn.clientWidth,h=Fn.scrollLeft,p=Mn.fixedGutter?Rn.clientWidth:0;return e<h+p?(e<50&&(e=0),Fn.scrollLeft=Math.max(0,e-10-p),f=!0):n>c+h-3&&(Fn.scrollLeft=n+10-c,f=!0,n>In.clientWidth&&(l=!1)),f&&Mn.onScroll&&Mn.onScroll(kr),l}function kt(){var e=vn(),t=Fn.scrollTop-gn(),n=Math.max(0,Math.floor(t/e)),r=Math.ceil((t+Fn.clientHeight)/e);return{from:d(Zn,n),to:d(Zn,r)}}function Lt(e,t){if(!Fn.clientWidth){br=wr=yr=0;return}var n=kt();if(e!==!0&&e.length==0&&n.from>br&&n.to<wr)return;var r=Math.max(n.from-100,0),i=Math.min(Zn.size,n.to+100);br<r&&r-br<20&&(r=br),wr>i&&wr-i<20&&(i=Math.min(Zn.size,wr));var s=e===!0?[]:At([{from:br,to:wr,domStart:0}],e),o=0;for(var u=0;u<s.length;++u){var a=s[u];a.from<r&&(a.domStart+=r-a.from,a.from=r),a.to>i&&(a.to=i),a.from>=a.to?s.splice(u--,1):o+=a.to-a.from}if(o==i-r)return;s.sort(function(e,t){return e.domStart-t.domStart});var f=vn(),l=Rn.style.display;$n.style.display="none",Ot(r,i,s),$n.style.display=Rn.style.display="";var c=r!=br||i!=wr||Er!=Fn.clientHeight+f;c&&(Er=Fn.clientHeight+f),br=r,wr=i,yr=v(Zn,r),qn.style.top=yr*f+"px",Fn.clientHeight&&(In.style.height=Zn.height*f+2*gn()+"px");if($n.childNodes.length!=wr-br)throw new Error("BAD PATCH! "+JSON.stringify(s)+" size="+(wr-br)+" nodes="+$n.childNodes.length);if(Mn.lineWrapping){Tr=Fn.clientWidth;var h=$n.firstChild,p=!1;Zn.iter(br,wr,function(e){if(!e.hidden){var t=Math.round(h.offsetHeight/f)||1;e.height!=t&&(k(e,t),mr=p=!0)}h=h.nextSibling}),p&&(In.style.height=Zn.height*f+2*gn()+"px")}else Tr==null&&(Tr=fn(xr)),Tr>Fn.clientWidth?(zn.style.width=Tr+"px",In.style.width="",In.style.width=Fn.scrollWidth+"px"):zn.style.width=In.style.width="";return Rn.style.display=l,(c||mr)&&Mt(),_t(),!t&&Mn.onUpdate&&Mn.onUpdate(kr),!0}function At(e,t){for(var n=0,r=t.length||0;n<r;++n){var i=t[n],s=[],o=i.diff||0;for(var u=0,a=e.length;u<a;++u){var f=e[u];i.to<=f.from&&i.diff?s.push({from:f.from+o,to:f.to+o,domStart:f.domStart}):i.to<=f.from||i.from>=f.to?s.push(f):(i.from>f.from&&s.push({from:f.from,to:i.from,domStart:f.domStart}),i.to<f.to&&s.push({from:i.to+o,to:f.to+o,domStart:f.domStart+(i.to-f.from)}))}e=s}return e}function Ot(e,t,n){if(!n.length)$n.innerHTML="";else{function r(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var i=0,s=$n.firstChild,o;for(var u=0;u<n.length;++u){var a=n[u];while(a.domStart>i)s=r(s),i++;for(var f=0,l=a.to-a.from;f<l;++f)s=s.nextSibling,i++}while(s)s=r(s)}var c=n.shift(),s=$n.firstChild,f=e,h=Pn.createElement("div"),p;Zn.iter(e,t,function(e){c&&c.to==f&&(c=n.shift());if(!c||c.from>f){if(e.hidden)var t=h.innerHTML="<pre></pre>";else{var t="<pre>"+e.getHTML(Gt)+"</pre>";e.className&&(t='<div style="position: relative"><pre class="'+e.className+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+t+"</div>")}h.innerHTML=t,$n.insertBefore(h.firstChild,s)}else s=s.nextSibling;++f})}function Mt(){if(!Mn.gutter&&!Mn.lineNumbers)return;var e=qn.offsetHeight,t=Fn.clientHeight;Rn.style.height=(e-t<2?t:e)+"px";var n=[],r=br;Zn.iter(br,Math.max(wr,br+1),function(e){if(e.hidden)n.push("<pre></pre>");else{var t=e.gutterMarker,i=Mn.lineNumbers?r+Mn.firstLineNumber:null;t&&t.text?i=t.text.replace("%N%",i!=null?i:""):i==null&&(i=" "),n.push(t&&t.style?'<pre class="'+t.style+'">':"<pre>",i);for(var s=1;s<e.height;++s)n.push("<br/>&#160;");n.push("</pre>")}++r}),Rn.style.display="none",Un.innerHTML=n.join("");var i=String(Zn.size).length,s=Un.firstChild,o=O(s),u="";while(o.length+u.length<i)u+=" ";u&&s.insertBefore(Pn.createTextNode(u),s.firstChild),Rn.style.display="",zn.style.marginLeft=Rn.offsetWidth+"px",mr=!1}function _t(){var e=_(nr.from,nr.to),t=hn(nr.from,!0),n=e?t:hn(nr.to,!0),r=nr.inverted?t:n,i=vn(),s=A(Hn),o=A($n);Bn.style.top=Math.max(0,Math.min(Fn.offsetHeight,r.y+o.top-s.top))+"px",Bn.style.left=Math.max(0,Math.min(Fn.offsetWidth,r.x+o.left-s.left))+"px";if(e)Xn.style.top=r.y+"px",Xn.style.left=(Mn.lineWrapping?Math.min(r.x,zn.offsetWidth):r.x)+"px",Xn.style.display="",Vn.style.display="none";else{var u=t.y==n.y,a="";function f(e,t,n,r){a+='<div class="CodeMirror-selected" style="position: absolute; left: '+e+"px; top: "+t+"px; right: "+n+"px; height: "+r+'px"></div>'}if(nr.from.ch&&t.y>=0){var l=u?zn.clientWidth-n.x:0;f(t.x,t.y,l,i)}var c=Math.max(0,t.y+(nr.from.ch?i:0)),h=Math.min(n.y,zn.clientHeight)-c;h>.2*i&&f(0,c,0,h),(!u||!nr.from.ch)&&n.y<zn.clientHeight-.5*i&&f(0,n.y,zn.clientWidth-n.x,i),Vn.innerHTML=a,Xn.style.display="none",Vn.style.display=""}}function Dt(e){e?rr=rr||(nr.inverted?nr.to:nr.from):rr=null}function Pt(e,t){var n=rr&&It(rr);n&&(D(n,e)?e=n:D(t,n)&&(t=n)),Ht(e,t),cr=!0}function Ht(e,t,n,r){Mr=null,n==null&&(n=nr.from.line,r=nr.to.line);if(_(nr.from,e)&&_(nr.to,t))return;if(D(t,e)){var i=t;t=e,e=i}e.line!=n&&(e=Bt(e,n,nr.from.ch)),t.line!=r&&(t=Bt(t,r,nr.to.ch)),_(e,t)?nr.inverted=!1:_(e,nr.to)?nr.inverted=!1:_(t,nr.from)&&(nr.inverted=!0),nr.from=e,nr.to=t,dr=!0}function Bt(e,t,n){function r(t){var r=e.line+t,i=t==1?Zn.size:-1;while(r!=i){var s=w(r);if(!s.hidden){var o=e.ch;if(o>n||o>s.text.length)o=s.text.length;return{line:r,ch:o}}r+=t}}var i=w(e.line);return i.hidden?e.line>=t?r(1)||r(-1):r(-1)||r(1):e}function jt(e,t,n){var r=It({line:e,ch:t||0});(n?Pt:Ht)(r,r)}function Ft(e){return Math.max(0,Math.min(e,Zn.size-1))}function It(e){if(e.line<0)return{line:0,ch:0};if(e.line>=Zn.size)return{line:Zn.size-1,ch:w(Zn.size-1).text.length};var t=e.ch,n=w(e.line).text.length;return t==null||t>n?{line:e.line,ch:n}:t<0?{line:e.line,ch:0}:e}function qt(e,t){function n(){for(var t=s+e,n=e<0?-1:Zn.size;t!=n;t+=e){var r=w(t);if(!r.hidden)return s=t,u=r,!0}}function r(t){if(o==(e<0?0:u.text.length)){if(!!t||!n())return!1;o=e<0?u.text.length:0}else o+=e;return!0}var i=nr.inverted?nr.from:nr.to,s=i.line,o=i.ch,u=w(s);if(t=="char")r();else if(t=="column")r(!0);else if(t=="word"){var a=!1;for(;;){if(e<0&&!r())break;if(F(u.text.charAt(o)))a=!0;else if(a){e<0&&(e=1,r());break}if(e>0&&!r())break}}return{line:s,ch:o}}function Rt(e,t){var n=e<0?nr.from:nr.to;if(rr||_(nr.from,nr.to))n=qt(e,t);jt(n.line,n.ch,!0)}function Ut(e,t){_(nr.from,nr.to)?e<0?dt("",qt(e,t),nr.to):dt("",nr.from,qt(e,t)):dt("",nr.from,nr.to),cr=!0}function zt(e,t){var n=0,r=hn(nr.inverted?nr.from:nr.to,!0);Mr!=null&&(r.x=Mr),t=="page"?n=Math.min(Fn.clientHeight,window.innerHeight||document.documentElement.clientHeight):t=="line"&&(n=vn());var i=pn(r.x,r.y+n*e+2);jt(i.line,i.ch,!0),Mr=r.x}function Wt(e){var t=w(e.line).text,n=e.ch,r=e.ch;while(n>0&&F(t.charAt(n-1)))--n;while(r<t.length&&F(t.charAt(r)))++r;Pt({line:e.line,ch:n},{line:e.line,ch:r})}function Xt(e){Pt({line:e,ch:0},{line:e,ch:w(e).text.length})}function Vt(e){if(_(nr.from,nr.to))return $t(nr.from.line,e);var t=nr.to.line-(nr.to.ch?0:1);for(var n=nr.from.line;n<=t;++n)$t(n,e)}function $t(e,t){t||(t="add");if(t=="smart")if(!Yn.indent)t="prev";else var n=Tn(e);var r=w(e),i=r.indentation(Mn.tabSize),s=r.text.match(/^\s*/)[0],o;t=="prev"?e?o=w(e-1).indentation(Mn.tabSize):o=0:t=="smart"?o=Yn.indent(n,r.text.slice(s.length),r.text):t=="add"?o=i+Mn.indentUnit:t=="subtract"&&(o=i-Mn.indentUnit),o=Math.max(0,o);var u=o-i;if(!u){if(nr.from.line!=e&&nr.to.line!=e)return;var a=s}else{var a="",f=0;if(Mn.indentWithTabs)for(var l=Math.floor(o/Mn.tabSize);l;--l)f+=Mn.tabSize,a+="	";while(f<o)++f,a+=" "}dt(a,{line:e,ch:0},{line:e,ch:s.length})}function Jt(){Yn=e.getMode(Mn,Mn.mode),Zn.iter(0,Zn.size,function(e){e.stateAfter=null}),er=[0],kn()}function Kt(){var e=Mn.gutter||Mn.lineNumbers;Rn.style.display=e?"":"none",e?mr=!0:$n.parentNode.style.marginLeft=0}function Qt(e,t){if(Mn.lineWrapping){Hn.className+=" CodeMirror-wrap";var n=Fn.clientWidth/mn()-3;Zn.iter(0,Zn.size,function(e){if(e.hidden)return;var t=Math.ceil(e.text.length/n)||1;t!=1&&k(e,t)}),zn.style.width=In.style.width=""}else Hn.className=Hn.className.replace(" CodeMirror-wrap",""),Tr=null,xr="",Zn.iter(0,Zn.size,function(e){e.height!=1&&!e.hidden&&k(e,1),e.text.length>xr.length&&(xr=e.text)});hr.push({from:0,to:Zn.size})}function Gt(e){var t=Mn.tabSize-e%Mn.tabSize;for(var n='<span class="cm-tab">',r=0;r<t;++r)n+=" ";return{html:n+"</span>",width:t}}function Yt(){Fn.className=Fn.className.replace(/\s*cm-s-\w+/g,"")+Mn.theme.replace(/(^|\s)\s*/g," cm-s-")}function Zt(){this.set=[]}function en(e,t,n){function r(e,t,n,r){w(e).addMark(new o(t,n,r,i.set))}e=It(e),t=It(t);var i=new Zt;if(e.line==t.line)r(e.line,e.ch,t.ch,n);else{r(e.line,e.ch,null,n);for(var s=e.line+1,u=t.line;s<u;++s)r(s,null,null,n);r(t.line,null,t.ch,n)}return hr.push({from:e.line,to:t.line+1}),i}function tn(e){e=It(e);var t=new u(e.ch);return w(e.line).addMark(t),t}function nn(e,t,n){return typeof e=="number"&&(e=w(Ft(e))),e.gutterMarker={text:t,style:n},mr=!0,e}function rn(e){typeof e=="number"&&(e=w(Ft(e))),e.gutterMarker=null,mr=!0}function sn(e,t){var n=e,r=e;return typeof e=="number"?r=w(Ft(e)):n=p(e),n==null?null:t(r,n)?(hr.push({from:n,to:n+1}),r):null}function on(e,t){return sn(e,function(e){if(e.className!=t)return e.className=t,!0})}function un(e,t){return sn(e,function(e,n){if(e.hidden!=t){e.hidden=t,k(e,t?0:1);var r=nr.from.line,i=nr.to.line;if(t&&(r==n||i==n)){var s=r==n?Bt({line:r,ch:0},r,0):nr.from,o=i==n?Bt({line:i,ch:0},i,0):nr.to;Ht(s,o)}return mr=!0}})}function an(e){if(typeof e=="number"){if(!g(e))return null;var t=e;e=w(e);if(!e)return null}else{var t=p(e);if(t==null)return null}var n=e.gutterMarker;return{line:t,handle:e,text:e.text,markerText:n&&n.text,markerClass:n&&n.style,lineClass:e.className}}function fn(e){return Wn.innerHTML="<pre><span>x</span></pre>",Wn.firstChild.firstChild.firstChild.nodeValue=e,Wn.firstChild.firstChild.offsetWidth||10}function ln(e,t){function n(e){return Wn.innerHTML="<pre><span>"+r.getHTML(Gt,e)+"</span></pre>",Wn.firstChild.firstChild.offsetWidth}if(t<=0)return 0;var r=w(e),i=r.text,s=0,o=0,u=i.length,a,f=Math.min(u,Math.ceil(t/mn()));for(;;){var l=n(f);if(!(l<=t&&f<u)){a=l,u=f;break}f=Math.min(u,Math.ceil(f*1.2))}if(t>a)return u;f=Math.floor(u*.8),l=n(f),l<t&&(s=f,o=l);for(;;){if(u-s<=1)return a-t>t-o?s:u;var c=Math.ceil((s+u)/2),h=n(c);h>t?(u=c,a=h):(s=c,o=h)}}function cn(e,t){if(t==0)return{top:0,left:0};var n="";if(Mn.lineWrapping){var r=e.text.indexOf(" ",t+2);n=H(e.text.slice(t+1,r<0?e.text.length:r+(K?5:0)))}Wn.innerHTML="<pre>"+e.getHTML(Gt,t)+'<span id="CodeMirror-temp-'+_r+'">'+H(e.text.charAt(t)||" ")+"</span>"+n+"</pre>";var i=document.getElementById("CodeMirror-temp-"+_r),s=i.offsetTop,o=i.offsetLeft;if(K&&s==0&&o==0){var u=document.createElement("span");u.innerHTML="x",i.parentNode.insertBefore(u,i.nextSibling),s=u.offsetTop}return{top:s,left:o}}function hn(e,t){var n,r=vn(),i=r*(v(Zn,e.line)-(t?yr:0));if(e.ch==0)n=0;else{var s=cn(w(e.line),e.ch);n=s.left,Mn.lineWrapping&&(i+=Math.max(0,s.top))}return{x:n,y:i,yBot:i+r}}function pn(e,t){function n(e){var t=cn(u,e);if(f){var n=Math.round(t.top/r);return Math.max(0,t.left+(n-l)*Fn.clientWidth)}return t.left}t<0&&(t=0);var r=vn(),i=mn(),s=yr+Math.floor(t/r),o=d(Zn,s);if(o>=Zn.size)return{line:Zn.size-1,ch:w(Zn.size-1).text.length};var u=w(o),a=u.text,f=Mn.lineWrapping,l=f?s-v(Zn,o):0;if(e<=0&&l==0)return{line:o,ch:0};var c=0,h=0,p=a.length,m,g=Math.min(p,Math.ceil((e+l*Fn.clientWidth*.9)/i));for(;;){var y=n(g);if(!(y<=e&&g<p)){m=y,p=g;break}g=Math.min(p,Math.ceil(g*1.2))}if(e>m)return{line:o,ch:p};g=Math.floor(p*.8),y=n(g),y<e&&(c=g,h=y);for(;;){if(p-c<=1)return{line:o,ch:m-e>e-h?c:p};var b=Math.ceil((c+p)/2),E=n(b);E>e?(p=b,m=E):(c=b,h=E)}}function dn(e){var t=hn(e,!0),n=A(zn);return{x:n.left+t.x,y:n.top+t.y,yBot:n.top+t.yBot}}function vn(){if(Hr==null){Hr="<pre>";for(var e=0;e<49;++e)Hr+="x<br/>";Hr+="x</pre>"}var t=$n.clientHeight;return t==Pr?Dr:(Pr=t,Wn.innerHTML=Hr,Dr=Wn.firstChild.offsetHeight/50||1,Wn.innerHTML="",Dr)}function mn(){return Fn.clientWidth==jr?Br:(jr=Fn.clientWidth,Br=fn("x"))}function gn(){return zn.offsetTop}function yn(){return zn.offsetLeft}function bn(e,t){var n=A(Fn,!0),r,i;try{r=e.clientX,i=e.clientY}catch(e){return null}if(!t&&(r-n.left>Fn.clientWidth||i-n.top>Fn.clientHeight))return null;var s=A(zn,!0);return pn(r-s.left,i-s.top)}function wn(e){function t(){var e=Z(jn.value).join("\n");e!=i&&On(vt)(e,"end"),Bn.style.position="relative",jn.style.cssText=r,vr=!1,St(!0),bt()}var n=bn(e);if(!n||window.opera)return;(_(nr.from,nr.to)||D(n,nr.from)||!D(n,nr.to))&&On(jt)(n.line,n.ch);var r=jn.style.cssText;Bn.style.position="absolute",jn.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; "+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",vr=!0;var i=jn.value=yt();xt(),M(jn);if(J){E(e);var s=N(window,"mouseup",function(){s(),setTimeout(t,20)},!0)}else setTimeout(t,50)}function En(){clearInterval(Gn);var e=!0;Xn.style.visibility="",Gn=setInterval(function(){Xn.style.visibility=(e=!e)?"":"hidden"},650)}function Sn(e){function t(e,t,n){if(!e.text)return;var r=e.styles,i=u?0:e.text.length-1,s;for(var o=u?0:r.length-2,f=u?r.length:-2;o!=f;o+=2*a){var l=r[o];if(r[o+1]!=null&&r[o+1]!=p){i+=a*l.length;continue}for(var c=u?0:l.length-1,h=u?l.length:-1;c!=h;c+=a,i+=a)if(i>=t&&i<n&&v.test(s=l.charAt(c))){var m=Fr[s];if(m.charAt(1)==">"==u)d.push(s);else{if(d.pop()!=m.charAt(0))return{pos:i,match:!1};if(!d.length)return{pos:i,match:!0}}}}}var n=nr.inverted?nr.from:nr.to,r=w(n.line),i=n.ch-1,s=i>=0&&Fr[r.text.charAt(i)]||Fr[r.text.charAt(++i)];if(!s)return;var o=s.charAt(0),u=s.charAt(1)==">",a=u?1:-1,f=r.styles;for(var l=i+1,c=0,h=f.length;c<h;c+=2)if((l-=f[c].length)<=0){var p=f[c+1];break}var d=[r.text.charAt(i)],v=/[(){}[\]]/;for(var c=n.line,h=u?Math.min(c+100,Zn.size):Math.max(-1,c-100);c!=h;c+=a){var r=w(c),m=c==n.line,g=t(r,m&&u?i+1:0,m&&!u?i:r.text.length);if(g)break}g||(g={pos:null,match:!1});var p=g.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",y=en({line:n.line,ch:i},{line:n.line,ch:i+1},p),b=g.pos!=null&&en({line:c,ch:g.pos},{line:c,ch:g.pos+1},p),E=On(function(){y.clear(),b&&b.clear()});e?setTimeout(E,800):Sr=E}function xn(e){var t,n;for(var r=e,i=e-40;r>i;--r){if(r==0)return 0;var s=w(r-1);if(s.stateAfter)return r;var o=s.indentation(Mn.tabSize);if(n==null||t>o)n=r-1,t=o}return n}function Tn(e){var t=xn(e),n=t&&w(t-1).stateAfter;return n?n=r(Yn,n):n=i(Yn),Zn.iter(t,e,function(e){e.highlight(Yn,n,Mn.tabSize),e.stateAfter=r(Yn,n)}),t<e&&hr.push({from:t,to:e}),e<Zn.size&&!w(e).stateAfter&&er.push(e),n}function Nn(e,t){var n=Tn(e);Zn.iter(e,t,function(e){e.highlight(Yn,n,Mn.tabSize),e.stateAfter=r(Yn,n)})}function Cn(){var e=+(new Date)+Mn.workTime,t=er.length;while(er.length){if(!w(br).stateAfter)var n=br;else var n=er.pop();if(n>=Zn.size)continue;var s=xn(n),o=s&&w(s-1).stateAfter;o?o=r(Yn,o):o=i(Yn);var u=0,a=Yn.compareStates,f=!1,l=s,c=!1;Zn.iter(l,Zn.size,function(t){var i=t.stateAfter;if(+(new Date)>e)return er.push(l),kn(Mn.workDelay),f&&hr.push({from:n,to:l+1}),c=!0;var s=t.highlight(Yn,o,Mn.tabSize);s&&(f=!0),t.stateAfter=r(Yn,o);if(a){if(i&&a(i,o))return!0}else if(s!==!1||!i)u=0;else if(++u>3&&(!Yn.indent||Yn.indent(i,"")==Yn.indent(o,"")))return!0;++l});if(c)return;f&&hr.push({from:n,to:l+1})}t&&Mn.onHighlightComplete&&Mn.onHighlightComplete(kr)}function kn(e){if(!er.length)return;Qn.set(e,On(Cn))}function Ln(){lr=cr=pr=null,hr=[],dr=!1,gr=[]}function An(){var e=!1,t;dr&&(e=!Nt()),hr.length?t=Lt(hr,!0):(dr&&_t(),mr&&Mt()),e&&Nt(),dr&&(Tt(),En()),tr&&!vr&&(lr===!0||lr!==!1&&dr)&&St(cr),dr&&Mn.matchBrackets&&setTimeout(On(function(){Sr&&(Sr(),Sr=null),_(nr.from,nr.to)&&Sn(!1)}),20);var n=pr,r=gr;dr&&Mn.onCursorActivity&&Mn.onCursorActivity(kr),n&&Mn.onChange&&kr&&Mn.onChange(kr,n);for(var i=0;i<r.length;++i)r[i](kr);t&&Mn.onUpdate&&Mn.onUpdate(kr)}function On(e){return function(){Ir++||Ln();try{var t=e.apply(this,arguments)}finally{--Ir||An()}return t}}var Mn={},_n=e.defaults;for(var Dn in _n)_n.hasOwnProperty(Dn)&&(Mn[Dn]=(f&&f.hasOwnProperty(Dn)?f:_n)[Dn]);var Pn=Mn.document,Hn=Pn.createElement("div");Hn.className="CodeMirror"+(Mn.lineWrapping?" CodeMirror-wrap":""),Hn.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>',s.appendChild?s.appendChild(Hn):s(Hn);var Bn=Hn.firstChild,jn=Bn.firstChild,Fn=Hn.lastChild,In=Fn.firstChild,qn=In.firstChild,Rn=qn.firstChild,Un=Rn.firstChild,zn=Rn.nextSibling.firstChild,Wn=zn.firstChild,Xn=Wn.nextSibling,Vn=Xn.nextSibling,$n=Vn.nextSibling;Yt(),I&&(jn.style.width="0px"),Q||(zn.draggable=!0),zn.style.outline="none",Mn.tabindex!=null&&(jn.tabIndex=Mn.tabindex),!Mn.gutter&&!Mn.lineNumbers&&(Rn.style.display="none");try{fn("x")}catch(Jn){throw Jn.message.match(/runtime/i)&&(Jn=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),Jn}var Kn=new C,Qn=new C,Gn,Yn,Zn=new c([new l([new a("")])]),er,tr;Jt();var nr={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},rr,ir,sr,or=0,ur,ar=!1,fr=!1,lr,cr,hr,pr,dr,vr,mr,gr,yr=0,br=0,wr=0,Er=0,Sr,xr="",Tr;On(function(){L(Mn.value||""),lr=!1})();var Nr=new m;N(Fn,"mousedown",On(U)),N(Fn,"dblclick",On(z)),N(zn,"dragstart",nt),N(zn,"selectstart",b),J||N(Fn,"contextmenu",wn),N(Fn,"scroll",function(){or=Fn.scrollTop,Lt([]),Mn.fixedGutter&&(Rn.style.left=Fn.scrollLeft+"px"),Mn.onScroll&&Mn.onScroll(kr)}),N(window,"resize",function(){Lt(!0)}),N(jn,"keyup",On(ot)),N(jn,"input",wt),N(jn,"keydown",On(it)),N(jn,"keypress",On(st)),N(jn,"focus",ut),N(jn,"blur",at),N(Fn,"dragenter",E),N(Fn,"dragover",E),N(Fn,"drop",On(G)),N(Fn,"paste",function(){xt(),wt()}),N(jn,"paste",wt),N(jn,"cut",On(function(){Mn.readOnly||vt("")}));var Cr;try{Cr=Pn.activeElement==jn}catch(Jn){}Cr?setTimeout(ut,20):at();var kr=Hn.CodeMirror={getValue:R,setValue:On(L),getSelection:yt,replaceSelection:On(vt),focus:function(){xt(),ut(),wt()},setOption:function(e,t){var n=Mn[e];Mn[e]=t,e=="mode"||e=="indentUnit"?Jt():e=="readOnly"&&t=="nocursor"?(at(),jn.blur()):e=="readOnly"&&!t?St(!0):e=="theme"?Yt():e=="lineWrapping"&&n!=t?On(Qt)():e=="tabSize"&&Lt(!0);if(e=="lineNumbers"||e=="gutter"||e=="firstLineNumber"||e=="theme")Kt(),Lt(!0)},getOption:function(e){return Mn[e]},undo:On(ct),redo:On(ht),indentLine:On(function(e,t){typeof t!="string"&&(t==null?t=Mn.smartIndent?"smart":"prev":t=t?"add":"subtract"),g(e)&&$t(e,t)}),indentSelection:On(Vt),historySize:function(){return{undo:Nr.done.length,redo:Nr.undone.length}},clearHistory:function(){Nr=new m},matchBrackets:On(function(){Sn(!0)}),getTokenAt:On(function(e){return e=It(e),w(e.line).getTokenAt(Yn,Tn(e.line),e.ch)}),getStateAfter:function(e){return e=Ft(e==null?Zn.size-1:e),Tn(e+1)},cursorCoords:function(e){return e==null&&(e=nr.inverted),dn(e?nr.from:nr.to)},charCoords:function(e){return dn(It(e))},coordsChar:function(e){var t=A(zn);return pn(e.x-t.left,e.y-t.top)},markText:On(en),setBookmark:tn,setMarker:On(nn),clearMarker:On(rn),setLineClass:On(on),hideLine:On(function(e){return un(e,!0)}),showLine:On(function(e){return un(e,!1)}),onDeleteLine:function(e,t){if(typeof e=="number"){if(!g(e))return null;e=w(e)}return(e.handlers||(e.handlers=[])).push(t),e},lineInfo:an,addWidget:function(e,t,n,r,i){e=hn(It(e));var s=e.yBot,o=e.x;t.style.position="absolute",In.appendChild(t);if(r=="over")s=e.y;else if(r=="near"){var u=Math.max(Fn.offsetHeight,Zn.height*vn()),a=Math.max(In.clientWidth,zn.clientWidth)-yn();e.yBot+t.offsetHeight>u&&e.y>t.offsetHeight&&(s=e.y-t.offsetHeight),o+t.offsetWidth>a&&(o=a-t.offsetWidth)}t.style.top=s+gn()+"px",t.style.left=t.style.right="",i=="right"?(o=In.clientWidth-t.offsetWidth,t.style.right="0px"):(i=="left"?o=0:i=="middle"&&(o=(In.clientWidth-t.offsetWidth)/2),t.style.left=o+yn()+"px"),n&&Ct(o,s,o+t.offsetWidth,s+t.offsetHeight)},lineCount:function(){return Zn.size},clipPos:It,getCursor:function(e){return e==null&&(e=nr.inverted),P(e?nr.from:nr.to)},somethingSelected:function(){return!_(nr.from,nr.to)},setCursor:On(function(e,t,n){t==null&&typeof e.line=="number"?jt(e.line,e.ch,n):jt(e,t,n)}),setSelection:On(function(e,t,n){(n?Pt:Ht)(It(e),It(t||e))}),getLine:function(e){if(g(e))return w(e).text},getLineHandle:function(e){if(g(e))return w(e)},setLine:On(function(e,t){g(e)&&dt(t,{line:e,ch:0},{line:e,ch:w(e).text.length})}),removeLine:On(function(e){g(e)&&dt("",{line:e,ch:0},It({line:e+1,ch:0}))}),replaceRange:On(dt),getRange:function(e,t){return gt(It(e),It(t))},execCommand:function(e){return X[e](kr)},moveH:On(Rt),deleteH:On(Ut),moveV:On(zt),toggleOverwrite:function(){ar?(ar=!1,Xn.className=Xn.className.replace(" CodeMirror-overwrite","")):(ar=!0,Xn.className+=" CodeMirror-overwrite")},posFromIndex:function(e){var t=0,n;return Zn.iter(0,Zn.size,function(r){var i=r.text.length+1;if(i>e)return n=e,!0;e-=i,++t}),It({line:t,ch:n})},indexFromPos:function(e){if(e.line<0||e.ch<0)return 0;var t=e.ch;return Zn.iter(0,e.line,function(e){t+=e.text.length+1}),t},scrollTo:function(e,t){e!=null&&(Fn.scrollLeft=e),t!=null&&(Fn.scrollTop=t),Lt([])},operation:function(e){return On(e)()},refresh:function(){Lt(!0),Fn.scrollHeight>or&&(Fn.scrollTop=or)},getInputField:function(){return jn},getWrapperElement:function(){return Hn},getScrollerElement:function(){return Fn},getGutterElement:function(){return Rn}},Lr=null,Ar=!1,Or="",Mr=null;Zt.prototype.clear=On(function(){var e=Infinity,t=-Infinity;for(var n=0,r=this.set.length;n<r;++n){var i=this.set[n],s=i.marked;if(!s||!i.parent)continue;var o=p(i);e=Math.min(e,o),t=Math.max(t,o);for(var u=0;u<s.length;++u)s[u].set==this.set&&s.splice(u--,1)}e!=Infinity&&hr.push({from:e,to:t+1})}),Zt.prototype.find=function(){var e,t;for(var n=0,r=this.set.length;n<r;++n){var i=this.set[n],s=i.marked;for(var o=0;o<s.length;++o){var u=s[o];if(u.set==this.set)if(u.from!=null||u.to!=null){var a=p(i);a!=null&&(u.from!=null&&(e={line:a,ch:u.from}),u.to!=null&&(t={line:a,ch:u.to}))}}}return{from:e,to:t}};var _r=Math.floor(Math.random()*16777215).toString(16),Dr,Pr,Hr,Br,jr=0,Fr={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},Ir=0;for(var qr in W)W.propertyIsEnumerable(qr)&&!kr.propertyIsEnumerable(qr)&&(kr[qr]=W[qr]);return kr}function t(e,t,n){function r(e,t,n){var i=t[e];if(i!=null)return i;n==null&&(n=t.fallthrough);if(n==null)return t.catchall;if(typeof n=="string")return r(e,V[n]);for(var s=0,o=n.length;s<o;++s){i=r(e,V[n[s]]);if(i!=null)return i}return null}return t?r(e,t,n):r(e,V[n])}function n(e){var t=tt[T(e,"keyCode")];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function r(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function i(e,t,n){return e.startState?e.startState(t,n):!0}function s(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8}function o(e,t,n,r){this.from=e,this.to=t,this.style=n,this.set=r}function u(e){this.from=e,this.to=e,this.line=null}function a(e,t){this.styles=t||[e,null],this.text=e,this.height=1,this.marked=this.gutterMarker=this.className=this.handlers=null,this.stateAfter=this.parent=this.hidden=null}function f(e,t,n,r){for(var i=0,s=0,o=0;s<t;i+=2){var u=n[i],a=s+u.length;o==0?(a>e&&r.push(u.slice(e-s,Math.min(u.length,t-s)),n[i+1]),a>=e&&(o=1)):o==1&&(a>t?r.push(u.slice(0,t-s),n[i+1]):r.push(u,n[i+1])),s=a}}function l(e){this.lines=e,this.parent=null;for(var t=0,n=e.length,r=0;t<n;++t)e[t].parent=this,r+=e[t].height;this.height=r}function c(e){this.children=e;var t=0,n=0;for(var r=0,i=e.length;r<i;++r){var s=e[r];t+=s.chunkSize(),n+=s.height,s.parent=this}this.size=t,this.height=n,this.parent=null}function h(e,t){while(!e.lines)for(var n=0;;++n){
var r=e.children[n],i=r.chunkSize();if(t<i){e=r;break}t-=i}return e.lines[t]}function p(e){if(e.parent==null)return null;var t=e.parent,n=j(t.lines,e);for(var r=t.parent;r;t=r,r=r.parent)for(var i=0,s=r.children.length;;++i){if(r.children[i]==t)break;n+=r.children[i].chunkSize()}return n}function d(e,t){var n=0;e:do{for(var r=0,i=e.children.length;r<i;++r){var s=e.children[r],o=s.height;if(t<o){e=s;continue e}t-=o,n+=s.chunkSize()}return n}while(!e.lines);for(var r=0,i=e.lines.length;r<i;++r){var u=e.lines[r],a=u.height;if(t<a)break;t-=a}return n+r}function v(e,t){var n=0;e:do{for(var r=0,i=e.children.length;r<i;++r){var s=e.children[r],o=s.chunkSize();if(t<o){e=s;continue e}t-=o,n+=s.height}return n}while(!e.lines);for(var r=0;r<t;++r)n+=e.lines[r].height;return n}function m(){this.time=0,this.done=[],this.undone=[]}function g(){E(this)}function y(e){return e.stop||(e.stop=g),e}function b(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function w(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function E(e){b(e),w(e)}function S(e){return e.target||e.srcElement}function x(e){if(e.which)return e.which;if(e.button&1)return 1;if(e.button&2)return 3;if(e.button&4)return 2}function T(e,t){var n=e.override&&e.override.hasOwnProperty(t);return n?e.override[t]:e[t]}function N(e,t,n,r){if(typeof e.addEventListener=="function"){e.addEventListener(t,n,!1);if(r)return function(){e.removeEventListener(t,n,!1)}}else{var i=function(e){n(e||window.event)};e.attachEvent("on"+t,i);if(r)return function(){e.detachEvent("on"+t,i)}}}function C(){this.id=null}function k(e,t,n){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var r=0,i=0;r<t;++r)e.charAt(r)=="	"?i+=n-i%n:++i;return i}function L(e){return e.currentStyle?e.currentStyle:window.getComputedStyle(e,null)}function A(e,t){var n=e.ownerDocument.body,r=0,i=0,s=!1;for(var o=e;o;o=o.offsetParent){var u=o.offsetLeft,a=o.offsetTop;o==n?(r+=Math.abs(u),i+=Math.abs(a)):(r+=u,i+=a),t&&L(o).position=="fixed"&&(s=!0)}var f=t&&!s?null:n;for(var o=e.parentNode;o!=f;o=o.parentNode)o.scrollLeft!=null&&(r-=o.scrollLeft,i-=o.scrollTop);return{left:r,top:i}}function O(e){return e.textContent||e.innerText||e.nodeValue||""}function M(e){I?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()}function _(e,t){return e.line==t.line&&e.ch==t.ch}function D(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function P(e){return{line:e.line,ch:e.ch}}function H(e){return Y.textContent=e,Y.innerHTML}function B(e,t){if(!t)return 0;if(!e)return t.length;for(var n=e.length,r=t.length;n>=0&&r>=0;--n,--r)if(e.charAt(n)!=t.charAt(r))break;return r+1}function j(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}function F(e){return/\w/.test(e)||e.toUpperCase()!=e.toLowerCase()}e.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,onKeyEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var I=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),q=I||/Mac/.test(navigator.platform),R=/Win/.test(navigator.platform),U={},z={};e.defineMode=function(t,n){!e.defaults.mode&&t!="null"&&(e.defaults.mode=t),U[t]=n},e.defineMIME=function(e,t){z[e]=t},e.getMode=function(t,n){typeof n=="string"&&z.hasOwnProperty(n)&&(n=z[n]);if(typeof n=="string")var r=n,i={};else if(n!=null)var r=n.name,i=n;var s=U[r];return s?s(t,i||{}):(window.console&&console.warn("No mode "+r+" found, falling back to plain text."),e.getMode(t,"text/plain"))},e.listModes=function(){var e=[];for(var t in U)U.propertyIsEnumerable(t)&&e.push(t);return e},e.listMIMEs=function(){var e=[];for(var t in z)z.propertyIsEnumerable(t)&&e.push({mime:t,mode:z[t]});return e};var W=e.extensions={};e.defineExtension=function(e,t){W[e]=t};var X=e.commands={selectAll:function(e){e.setSelection({line:0,ch:0},{line:e.lineCount()-1})},killLine:function(e){var t=e.getCursor(!0),n=e.getCursor(!1),r=!_(t,n);!r&&e.getLine(t.line).length==t.ch?e.replaceRange("",t,{line:t.line+1,ch:0}):e.replaceRange("",t,r?n:{line:t.line})},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",{line:t,ch:0},{line:t})},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.setCursor(0,0,!0)},goDocEnd:function(e){e.setSelection({line:e.lineCount()-1},null,!0)},goLineStart:function(e){e.setCursor(e.getCursor().line,0,!0)},goLineStartSmart:function(e){var t=e.getCursor(),n=e.getLine(t.line),r=Math.max(0,n.search(/\S/));e.setCursor(t.line,t.ch<=r&&t.ch?0:r,!0)},goLineEnd:function(e){e.setSelection({line:e.getCursor().line},null,!0)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goWordRight:function(e){e.moveH(1,"word")},delCharLeft:function(e){e.deleteH(-1,"char")},delCharRight:function(e){e.deleteH(1,"char")},delWordLeft:function(e){e.deleteH(-1,"word")},delWordRight:function(e){e.deleteH(1,"word")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end")},transposeChars:function(e){var t=e.getCursor(),n=e.getLine(t.line);t.ch>0&&t.ch<n.length-1&&e.replaceRange(n.charAt(t.ch)+n.charAt(t.ch-1),{line:t.line,ch:t.ch-1},{line:t.line,ch:t.ch+1})},newlineAndIndent:function(e){e.replaceSelection("\n","end"),e.indentLine(e.getCursor().line)},toggleOverwrite:function(e){e.toggleOverwrite()}},V=e.keyMap={};V.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"indentMore","Shift-Tab":"indentLess",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},V.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"},V.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]},V["default"]=q?V.macDefault:V.pcDefault,V.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},e.fromTextArea=function(t,n){function r(){t.value=u.getValue()}n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex);if(t.form){var i=N(t.form,"submit",r,!0);if(typeof t.form.submit=="function"){var s=t.form.submit;function o(){r(),t.form.submit=s,t.form.submit(),t.form.submit=o}t.form.submit=o}}t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return u.save=r,u.getTextArea=function(){return t},u.toTextArea=function(){r(),t.parentNode.removeChild(u.getWrapperElement()),t.style.display="",t.form&&(i(),typeof t.form.submit=="function"&&(t.form.submit=s))},u},e.copyState=r,e.startState=i,s.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if(typeof e=="string")var n=t==e;else var n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){var t=this.pos;while(this.eat(e));return this.pos>t},eatSpace:function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return k(this.string,this.start,this.tabSize)},indentation:function(){return k(this.string,null,this.tabSize)},match:function(e,t,n){function i(e){return n?e.toLowerCase():e}if(typeof e!="string"){var r=this.string.slice(this.pos).match(e);return r&&t!==!1&&(this.pos+=r[0].length),r}if(i(this.string).indexOf(i(e),this.pos)==this.pos)return t!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)}},e.StringStream=s,o.prototype={attach:function(e){this.set.push(e)},detach:function(e){var t=j(this.set,e);t>-1&&this.set.splice(t,1)},split:function(e,t){if(this.to<=e&&this.to!=null)return null;var n=this.from<e||this.from==null?null:this.from-e+t,r=this.to==null?null:this.to-e+t;return new o(n,r,this.style,this.set)},dup:function(){return new o(null,null,this.style,this.set)},clipTo:function(e,t,n,r,i){this.from!=null&&this.from>=t&&(this.from=Math.max(r,this.from)+i),this.to!=null&&this.to>t&&(this.to=r<this.to?this.to+i:t),e&&r>this.from&&(r<this.to||this.to==null)&&(this.from=null),n&&(t<this.to||this.to==null)&&(t>this.from||this.from==null)&&(this.to=null)},isDead:function(){return this.from!=null&&this.to!=null&&this.from>=this.to},sameSet:function(e){return this.set==e.set}},u.prototype={attach:function(e){this.line=e},detach:function(e){this.line==e&&(this.line=null)},split:function(e,t){if(e<this.from)return this.from=this.to=this.from-e+t,this},isDead:function(){return this.from>this.to},clipTo:function(e,t,n,r,i){(e||t<this.from)&&(n||r>this.to)?(this.from=0,this.to=-1):this.from>t&&(this.from=this.to=Math.max(r,this.from)+i)},sameSet:function(e){return!1},find:function(){return!this.line||!this.line.parent?null:{line:p(this.line),ch:this.from}},clear:function(){if(this.line){var e=j(this.line.marked,this);e!=-1&&this.line.marked.splice(e,1),this.line=null}}},a.inheritMarks=function(e,t){var n=new a(e),r=t&&t.marked;if(r)for(var i=0;i<r.length;++i)if(r[i].to==null&&r[i].style){var s=n.marked||(n.marked=[]),o=r[i],u=o.dup();s.push(u),u.attach(n)}return n},a.prototype={replace:function(e,t,n){var r=[],i=this.marked,s=t==null?this.text.length:t;f(0,e,this.styles,r),n&&r.push(n,null),f(s,this.text.length,this.styles,r),this.styles=r,this.text=this.text.slice(0,e)+n+this.text.slice(s),this.stateAfter=null;if(i){var o=n.length-(s-e);for(var u=0;u<i.length;++u){var a=i[u];a.clipTo(e==null,e||0,t==null,s,o),a.isDead()&&(a.detach(this),i.splice(u--,1))}}},split:function(e,t){var n=[t,null],r=this.marked;f(e,this.text.length,this.styles,n);var i=new a(t+this.text.slice(e),n);if(r)for(var s=0;s<r.length;++s){var o=r[s],u=o.split(e,t.length);u&&(i.marked||(i.marked=[]),i.marked.push(u),u.attach(i))}return i},append:function(e){var t=this.text.length,n=e.marked,r=this.marked;this.text+=e.text,f(0,e.text.length,e.styles,this.styles);if(r)for(var i=0;i<r.length;++i)r[i].to==null&&(r[i].to=t);if(n&&n.length){r||(this.marked=r=[]);e:for(var i=0;i<n.length;++i){var s=n[i];if(!s.from)for(var o=0;o<r.length;++o){var u=r[o];if(u.to==t&&u.sameSet(s)){u.to=s.to==null?null:s.to+t,u.isDead()&&(u.detach(this),n.splice(i--,1));continue e}}r.push(s),s.attach(this),s.from+=t,s.to!=null&&(s.to+=t)}}},fixMarkEnds:function(e){var t=this.marked,n=e.marked;if(!t)return;for(var r=0;r<t.length;++r){var i=t[r],s=i.to==null;if(s&&n)for(var o=0;o<n.length;++o)if(n[o].sameSet(i)){s=!1;break}s&&(i.to=this.text.length)}},fixMarkStarts:function(){var e=this.marked;if(!e)return;for(var t=0;t<e.length;++t)e[t].from==null&&(e[t].from=0)},addMark:function(e){e.attach(this),this.marked==null&&(this.marked=[]),this.marked.push(e),this.marked.sort(function(e,t){return(e.from||0)-(t.from||0)})},highlight:function(e,t,n){var r=new s(this.text,n),i=this.styles,o=0,u=!1,a=i[0],f;this.text==""&&e.blankLine&&e.blankLine(t);while(!r.eol()){var l=e.token(r,t),c=this.text.slice(r.start,r.pos);r.start=r.pos,o&&i[o-1]==l?i[o-2]+=c:c&&(!u&&(i[o+1]!=l||o&&i[o-2]!=f)&&(u=!0),i[o++]=c,i[o++]=l,f=a,a=i[o]);if(r.pos>5e3){i[o++]=this.text.slice(r.pos),i[o++]=null;break}}return i.length!=o&&(i.length=o,u=!0),o&&i[o-2]!=f&&(u=!0),u||(i.length<5&&this.text.length<10?null:!1)},getTokenAt:function(e,t,n){var r=this.text,i=new s(r);while(i.pos<n&&!i.eol()){i.start=i.pos;var o=e.token(i,t)}return{start:i.start,end:i.pos,string:i.current(),className:o||null,state:t}},indentation:function(e){return k(this.text,null,e)},getHTML:function(e,t){function n(t,n){if(!t)return;s&&K&&t.charAt(0)==" "&&(t=" "+t.slice(1)),s=!1;if(t.indexOf("	")==-1){o+=t.length;var r=H(t)}else{var r="";for(var u=0;;){var a=t.indexOf("	",u);if(a==-1){r+=H(t.slice(u)),o+=t.length-u;break}o+=a-u;var f=e(o);r+=H(t.slice(u,a))+f.html,o+=f.width,u=a+1}}n?i.push('<span class="',n,'">',r,"</span>"):i.push(r)}function r(e){return e?"cm-"+e.replace(/ +/g," cm-"):null}var i=[],s=!0,o=0,u=this.styles,a=this.text,f=this.marked,l=a.length;t!=null&&(l=Math.min(t,l));if(!a&&t==null)n(" ");else if(!f||!f.length)for(var c=0,h=0;h<l;c+=2){var p=u[c],d=u[c+1],v=p.length;h+v>l&&(p=p.slice(0,l-h)),h+=v,n(p,r(d))}else{var m=0,c=0,g="",d,y=0,b=f[0].from||0,w=[],E=0;function S(){var e;while(E<f.length&&((e=f[E]).from==m||e.from==null))e.style!=null&&w.push(e),++E;b=E<f.length?f[E].from:Infinity;for(var t=0;t<w.length;++t){var n=w[t].to||Infinity;n==m?w.splice(t--,1):b=Math.min(n,b)}}var x=0;while(m<l){b==m&&S();var T=Math.min(l,b);for(;;){if(g){var N=m+g.length,C=d;for(var k=0;k<w.length;++k)C=(C?C+" ":"")+w[k].style;n(N>T?g.slice(0,T-m):g,C);if(N>=T){g=g.slice(T-m),m=T;break}m=N}g=u[c++],d=r(u[c++])}}}return i.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var e=0,t=this.marked.length;e<t;++e)this.marked[e].detach(this)}},l.prototype={chunkSize:function(){return this.lines.length},remove:function(e,t,n){for(var r=e,i=e+t;r<i;++r){var s=this.lines[r];this.height-=s.height,s.cleanUp();if(s.handlers)for(var o=0;o<s.handlers.length;++o)n.push(s.handlers[o])}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertHeight:function(e,t,n){this.height+=n,this.lines.splice.apply(this.lines,[e,0].concat(t));for(var r=0,i=t.length;r<i;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},c.prototype={chunkSize:function(){return this.size},remove:function(e,t,n){this.size-=t;for(var r=0;r<this.children.length;++r){var i=this.children[r],s=i.chunkSize();if(e<s){var o=Math.min(t,s-e),u=i.height;i.remove(e,o,n),this.height-=u-i.height,s==o&&(this.children.splice(r--,1),i.parent=null);if((t-=o)==0)break;e=0}else e-=s}if(this.size-t<25){var a=[];this.collapse(a),this.children=[new l(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0,n=this.children.length;t<n;++t)this.children[t].collapse(e)},insert:function(e,t){var n=0;for(var r=0,i=t.length;r<i;++r)n+=t[r].height;this.insertHeight(e,t,n)},insertHeight:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0,i=this.children.length;r<i;++r){var s=this.children[r],o=s.chunkSize();if(e<=o){s.insertHeight(e,t,n);if(s.lines&&s.lines.length>50){while(s.lines.length>50){var u=s.lines.splice(s.lines.length-25,25),a=new l(u);s.height-=a.height,this.children.splice(r+1,0,a),a.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(this.children.length<=10)return;var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new c(t);if(!e.parent){var r=new c(e.children);r.parent=e,e.children=[r,n],e=r}else{e.size-=n.size,e.height-=n.height;var i=j(e.parent.children,e);e.parent.children.splice(i+1,0,n)}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()},iter:function(e,t,n){this.iterN(e,t-e,n)},iterN:function(e,t,n){for(var r=0,i=this.children.length;r<i;++r){var s=this.children[r],o=s.chunkSize();if(e<o){var u=Math.min(t,o-e);if(s.iterN(e,u,n))return!0;if((t-=u)==0)break;e=0}else e-=o}}},m.prototype={addChange:function(e,t,n){this.undone.length=0;var r=+(new Date),i=this.done[this.done.length-1],s=i&&i[i.length-1],o=r-this.time;if(o>400||!s)this.done.push([{start:e,added:t,old:n}]);else if(s.start>e+n.length||s.start+s.added<e-s.added+s.old.length)i.push({start:e,added:t,old:n});else{var u=0;if(e<s.start){for(var a=s.start-e-1;a>=0;--a)s.old.unshift(n[a]);s.added+=s.start-e,s.start=e}else s.start<e&&(u=e-s.start,t+=u);for(var a=s.added-u,f=n.length;a<f;++a)s.old.push(n[a]);s.added<t&&(s.added=t)}this.time=r}},e.e_stop=E,e.e_preventDefault=b,e.e_stopPropagation=w,e.connect=N,C.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}};var $=function(){if(/MSIE [1-8]\b/.test(navigator.userAgent))return!1;var e=document.createElement("div");return"draggable"in e}(),J=/gecko\/\d{7}/i.test(navigator.userAgent),K=/MSIE \d/.test(navigator.userAgent),Q=/WebKit\//.test(navigator.userAgent),G="\n";(function(){var e=document.createElement("textarea");e.value="foo\nbar",e.value.indexOf("\r")>-1&&(G="\r\n")})(),document.documentElement.getBoundingClientRect!=null&&(A=function(e,t){try{var n=e.getBoundingClientRect();n={top:n.top,left:n.left}}catch(r){n={top:0,left:0}}if(!t)if(window.pageYOffset==null){var i=document.documentElement||document.body.parentNode;i.scrollTop==null&&(i=document.body),n.top+=i.scrollTop,n.left+=i.scrollLeft}else n.top+=window.pageYOffset,n.left+=window.pageXOffset;return n});var Y=document.createElement("pre");H("a")=="\na"?H=function(e){return Y.textContent=e,Y.innerHTML.slice(1)}:H("	")!="	"&&(H=function(e){return Y.innerHTML="",Y.appendChild(document.createTextNode(e)),Y.innerHTML}),e.htmlEscape=H;var Z="\n\nb".split(/\n/).length!=3?function(e){var t=0,n,r=[];while((n=e.indexOf("\n",t))>-1)r.push(e.slice(t,e.charAt(n-1)=="\r"?n-1:n)),t=n+1;return r.push(e.slice(t)),r}:function(e){return e.split(/\r?\n/)};e.splitLines=Z;var et=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0};e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var tt={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return e.keyNames=tt,function(){for(var e=0;e<10;e++)tt[e+48]=String(e);for(var e=65;e<=90;e++)tt[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)tt[e+111]=tt[e+63235]="F"+e}(),e}();CodeMirror.defineMode("css",function(e){function t(e,t){return u=t,e}function n(e,n){var o=e.next();if(o=="@")return e.eatWhile(/[\w\\\-]/),t("meta",e.current());if(o=="/"&&e.eat("*"))return n.tokenize=r,r(e,n);if(o=="<"&&e.eat("!"))return n.tokenize=i,i(e,n);if(o!="=")return o!="~"&&o!="|"||!e.eat("=")?o=='"'||o=="'"?(n.tokenize=s(o),n.tokenize(e,n)):o=="#"?(e.eatWhile(/[\w\\\-]/),t("atom","hash")):o=="!"?(e.match(/^\s*\w*/),t("keyword","important")):/\d/.test(o)?(e.eatWhile(/[\w.%]/),t("number","unit")):/[,.+>*\/]/.test(o)?t(null,"select-op"):/[;{}:\[\]]/.test(o)?t(null,o):(e.eatWhile(/[\w\\\-]/),t("variable","variable")):t(null,"compare");t(null,"compare")}function r(e,r){var i=!1,s;while((s=e.next())!=null){if(i&&s=="/"){r.tokenize=n;break}i=s=="*"}return t("comment","comment")}function i(e,r){var i=0,s;while((s=e.next())!=null){if(i>=2&&s==">"){r.tokenize=n;break}i=s=="-"?i+1:0}return t("comment","comment")}function s(e){return function(r,i){var s=!1,o;while((o=r.next())!=null){if(o==e&&!s)break;s=!s&&o=="\\"}return s||(i.tokenize=n),t("string","string")}}var o=e.indentUnit,u;return{startState:function(e){return{tokenize:n,baseIndent:e||0,stack:[]}},token:function(e,t){if(e.eatSpace())return null;var n=t.tokenize(e,t),r=t.stack[t.stack.length-1];if(u=="hash"&&r=="rule")n="atom";else if(n=="variable")if(r=="rule")n="number";else if(!r||r=="@media{")n="tag";return r=="rule"&&/^[\{\};]$/.test(u)&&t.stack.pop(),u=="{"?r=="@media"?t.stack[t.stack.length-1]="@media{":t.stack.push("{"):u=="}"?t.stack.pop():u=="@media"?t.stack.push("@media"):r=="{"&&u!="comment"&&t.stack.push("rule"),n},indent:function(e,t){var n=e.stack.length;return/^\}/.test(t)&&(n-=e.stack[e.stack.length-1]=="rule"?2:1),e.baseIndent+n*o},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css"),CodeMirror.defineMode("htmlmixed",function(e,t){function n(e,t){var n=o.token(e,t.htmlState);return n=="tag"&&e.current()==">"&&t.htmlState.context&&(/^script$/i.test(t.htmlState.context.tagName)?(t.token=i,t.localState=u.startState(o.indent(t.htmlState,"")),t.mode="javascript"):/^style$/i.test(t.htmlState.context.tagName)&&(t.token=s,t.localState=a.startState(o.indent(t.htmlState,"")),t.mode="css")),n}function r(e,t,n){var r=e.current(),i=r.search(t);return i>-1&&e.backUp(r.length-i),n}function i(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=n,t.curState=null,t.mode="html",n(e,t)):r(e,/<\/\s*script\s*>/,u.token(e,t.localState))}function s(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=n,t.localState=null,t.mode="html",n(e,t)):r(e,/<\/\s*style\s*>/,a.token(e,t.localState))}var o=CodeMirror.getMode(e,{name:"xml",htmlMode:!0}),u=CodeMirror.getMode(e,"javascript"),a=CodeMirror.getMode(e,"css");return{startState:function(){var e=o.startState();return{token:n,localState:null,mode:"html",htmlState:e}},copyState:function(e){if(e.localState)var t=CodeMirror.copyState(e.token==s?a:u,e.localState);return{token:e.token,localState:t,mode:e.mode,htmlState:CodeMirror.copyState(o,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return e.token==n||/^\s*<\//.test(t)?o.indent(e.htmlState,t):e.token==i?u.indent(e.localState,t):a.indent(e.localState,t)},compareStates:function(e,t){return o.compareStates(e.htmlState,t.htmlState)},electricChars:"/{}:"}}),CodeMirror.defineMIME("text/html","htmlmixed"),CodeMirror.defineMode("javascript",function(e,t){function n(e,t,n){return t.tokenize=n,n(e,t)}function r(e,t){var n=!1,r;while((r=e.next())!=null){if(r==t&&!n)return!1;n=!n&&r=="\\"}return n}function i(e,t,n){return q=e,R=n,t}function s(e,t){var s=e.next();if(s=='"'||s=="'")return n(e,t,o(s));if(/[\[\]{}\(\),;\:\.]/.test(s))return i(s);if(s=="0"&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(s))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if(s=="/")return e.eat("*")?n(e,t,u):e.eat("/")?(e.skipToEnd(),i("comment","comment")):t.reAllowed?(r(e,"/"),e.eatWhile(/[gimy]/),i("regexp","string-2")):(e.eatWhile(I),i("operator",null,e.current()));if(s=="#")return e.skipToEnd(),i("error","error");if(I.test(s))return e.eatWhile(I),i("operator",null,e.current());e.eatWhile(/[\w\$_]/);var a=e.current(),f=F.propertyIsEnumerable(a)&&F[a];return f&&t.kwAllowed?i(f.type,f.style,a):i("variable","variable",a)}function o(e){return function(t,n){return r(t,e)||(n.tokenize=s),i("string","string")}}function u(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=s;break}n=r=="*"}return i("comment","comment")}function a(e,t,n,r,i,s){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=s,r!=null&&(this.align=r)}function f(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0}function l(e,t,n,r,i){var s=e.cc;z.state=e,z.stream=i,z.marked=null,z.cc=s,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);for(;;){var o=s.length?s.pop():j?w:b;if(o(n,r)){while(s.length&&s[s.length-1].lex)s.pop()();return z.marked?z.marked:n=="variable"&&f(e,r)?"variable-2":t}}}function c(){for(var e=arguments.length-1;e>=0;e--)z.cc.push(arguments[e])}function h(){return c.apply(null,arguments),!0}function p(e){var t=z.state;if(t.context){z.marked="def";for(var n=t.localVars;n;n=n.next)if(n.name==e)return;t.localVars={name:e,next:t.localVars}}}function d(){z.state.context||(z.state.localVars=W),z.state.context={prev:z.state.context,vars:z.state.localVars}}function v(){z.state.localVars=z.state.context.vars,z.state.context=z.state.context.prev}function m(e,t){var n=function(){var n=z.state;n.lexical=new a(n.indented,z.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function g(){var e=z.state;e.lexical.prev&&(e.lexical.type==")"&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function y(e){return function(t){return t==e?h():e==";"?c():h(arguments.callee)}}function b(e){return e=="var"?h(m("vardef"),L,y(";"),g):e=="keyword a"?h(m("form"),w,b,g):e=="keyword b"?h(m("form"),b,g):e=="{"?h(m("}"),k,g):e==";"?h():e=="function"?h(P):e=="for"?h(m("form"),y("("),m(")"),O,y(")"),g,b,g):e=="variable"?h(m("stat"),x):e=="switch"?h(m("form"),w,m("}","switch"),y("{"),k,g,g):e=="case"?h(w,y(":")):e=="default"?h(y(":")):e=="catch"?h(m("form"),d,y("("),H,y(")"),b,g,v):c(m("stat"),w,y(";"),g)}function w(e){return U.hasOwnProperty(e)?h(S):e=="function"?h(P):e=="keyword c"?h(E):e=="("?h(m(")"),E,y(")"),g,S):e=="operator"?h(w):e=="["?h(m("]"),C(w,"]"),g,S):e=="{"?h(m("}"),C(N,"}"),g,S):h()}function E(e){return e.match(/[;\}\)\],]/)?c():c(w)}function S(e,t){if(e=="operator"&&/\+\+|--/.test(t))return h(S);if(e=="operator")return h(w);if(e==";")return;if(e=="(")return h(m(")"),C(w,")"),g,S);if(e==".")return h(T,S);if(e=="[")return h(m("]"),w,y("]"),g,S)}function x(e){return e==":"?h(g,b):c(S,y(";"),g)}function T(e){if(e=="variable")return z.marked="property",h()}function N(e){e=="variable"&&(z.marked="property");if(U.hasOwnProperty(e))return h(y(":"),w)}function C(e,t){function n(r){return r==","?h(e,n):r==t?h():h(y(t))}return function(r){return r==t?h():c(e,n)}}function k(e){return e=="}"?h():c(b,k)}function L(e,t){return e=="variable"?(p(t),h(A)):h()}function A(e,t){if(t=="=")return h(w,A);if(e==",")return h(L)}function O(e){return e=="var"?h(L,_):e==";"?c(_):e=="variable"?h(M):c(_)}function M(e,t){return t=="in"?h(w):h(S,_)}function _(e,t){return e==";"?h(D):t=="in"?h(w):h(w,y(";"),D)}function D(e){e!=")"&&h(w)}function P(e,t){if(e=="variable")return p(t),h(P);if(e=="(")return h(m(")"),d,C(H,")"),g,b,v)}function H(e,t){if(e=="variable")return p(t),h()}var B=e.indentUnit,j=t.json,F=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),s={type:"atom",style:"atom"};return{"if":t,"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":s,"false":s,"null":s,"undefined":s,NaN:s,Infinity:s}}(),I=/[+\-*&%=<>!?|]/,q,R,U={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},z={state:null,column:null,marked:null,cc:null},W={name:"this",next:{name:"arguments"}};return g.lex=!0,{startState:function(e){return{tokenize:s,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new a((e||0)-B,0,"block",!1),localVars:null,context:null,indented:0}},token:function(e,t){e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation());if(e.eatSpace())return null;var n=t.tokenize(e,t);return q=="comment"?n:(t.reAllowed=q=="operator"||q=="keyword c"||q.match(/^[\[{}\(,;:]$/),t.kwAllowed=q!=".",l(t,n,q,R,e))},indent:function(e,t){if(e.tokenize!=s)return 0;var n=t&&t.charAt(0),r=e.lexical,i=r.type,o=n==i;return i=="vardef"?r.indented+4:i=="form"&&n=="{"?r.indented:i=="stat"||i=="form"?r.indented+B:r.info=="switch"&&!o?r.indented+(/^(?:case|default)\b/.test(t)?B:2*B):r.align?r.column+(o?0:1):r.indented+(o?0:B)},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMode("xml",function(e,t){function n(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if(i=="<"){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?n(s("atom","]]>")):null:e.match("--")?n(s("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(o(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=s("meta","?>"),"meta";E=e.eat("/")?"closeTag":"openTag",e.eatSpace(),w="";var u;while(u=e.eat(/[^\s\u00a0=<>\"\'\/?]/))w+=u;return t.tokenize=r,"tag"}if(i=="&"){var a;return e.eat("#")?e.eat("x")?a=e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):a=e.eatWhile(/[\d]/)&&e.eat(";"):a=e.eatWhile(/[\w]/)&&e.eat(";"),a?"atom":"error"}return e.eatWhile(/[^&<]/),null}function r(e,t){var r=e.next();return r==">"||r=="/"&&e.eat(">")?(t.tokenize=n,E=r==">"?"endTag":"selfcloseTag","tag"):r=="="?(E="equals",null):/[\'\"]/.test(r)?(t.tokenize=i(r),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function i(e){return function(t,n){while(!t.eol())if(t.next()==e){n.tokenize=r;break}return"string"}}function s(e,t){return function(r,i){while(!r.eol()){if(r.match(t)){i.tokenize=n;break}r.next()}return e}}function o(e){return function(t,r){var i;while((i=t.next())!=null){if(i=="<")return r.tokenize=o(e+1),r.tokenize(t,r);if(i==">"){if(e==1){r.tokenize=n;break}return r.tokenize=o(e-1),r.tokenize(t,r)}}return"meta"}}function u(){for(var e=arguments.length-1;e>=0;e--)S.cc.push(arguments[e])}function a(){return u.apply(null,arguments),!0}function f(e,t){var n=y.doNotIndent.hasOwnProperty(e)||S.context&&S.context.noIndent;S.context={prev:S.context,tagName:e,indent:S.indented,startOfLine:t,noIndent:n}}function l(){S.context&&(S.context=S.context.prev)}function c(e){if(e=="openTag")return S.tagName=w,a(d,h(S.startOfLine));if(e=="closeTag"){var t=!1;return S.context?t=S.context.tagName!=w:t=!0,t&&(x="error"),a(p(t))}return a()}function h(e){return function(t){return t=="selfcloseTag"||t=="endTag"&&y.autoSelfClosers.hasOwnProperty(S.tagName.toLowerCase())?a():t=="endTag"?(f(S.tagName,e),a()):a()}}function p(e){return function(t){return e&&(x="error"),t=="endTag"?(l(),a()):(x="error",a(arguments.callee))}}function d(e){return e=="word"?(x="attribute",a(d)):e=="equals"?a(v,d):e=="string"?(x="error",a(d)):u()}function v(e){return e=="word"&&y.allowUnquoted?(x="string",a()):e=="string"?a(m):u()}function m(e){return e=="string"?a(m):u()}var g=e.indentUnit,y=t.htmlMode?{autoSelfClosers:{br:!0,img:!0,hr:!0,link:!0,input:!0,meta:!0,col:!0,frame:!0,base:!0,area:!0},doNotIndent:{pre:!0},allowUnquoted:!0}:{autoSelfClosers:{},doNotIndent:{},allowUnquoted:!1},b=t.alignCDATA,w,E,S,x;return{startState:function(){return{tokenize:n,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(e,t){e.sol()&&(t.startOfLine=!0,t.indented=e.indentation());if(e.eatSpace())return null;x=E=w=null;var n=t.tokenize(e,t);t.type=E;if((n||E)&&n!="comment"){S=t;for(;;){var r=t.cc.pop()||c;if(r(E||n))break}}return t.startOfLine=!1,x||n},indent:function(e,t,i){var s=e.context;if(e.tokenize!=r&&e.tokenize!=n||s&&s.noIndent)return i?i.match(/^(\s*)/)[0].length:0;if(b&&/<!\[CDATA\[/.test(t))return 0;s&&/^<\//.test(t)&&(s=s.prev);while(s&&!s.startOfLine)s=s.prev;return s?s.indent+g:0},compareStates:function(e,t){if(e.indented!=t.indented||e.tokenize!=t.tokenize)return!1;for(var n=e.context,r=t.context;;n=n.prev,r=r.prev){if(!n||!r)return n==r;if(n.tagName!=r.tagName)return!1}},electricChars:"/"}}),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.defineMIME
("text/html",{name:"xml",htmlMode:!0});